"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}window.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".tabheader__item"),t=document.querySelectorAll(".tabcontent"),n=document.querySelector(".tabcontainer");function r(){t.length>0&&e.length>0?(t.forEach((function(e){e.classList.add("--hide"),e.classList.remove("--show","--anim-fade")})),e.forEach((function(e){e.classList.remove("tabheader__item_active")}))):console.log('function "hideTabsContent", error: "Tabs item or tabs content not found"')}function a(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t.length>0&&e.length>0?(t[n].classList.add("--show","--anim-fade"),t[n].classList.remove("--hide"),e[n].classList.add("tabheader__item_active")):console.log('function "showTabsContent", error: "Tabs item or tabs content not found"')}r(),a(),n&&n.addEventListener("click",(function(t){var n=t.target;n&&n.classList.contains("tabheader__item")&&e.forEach((function(e,t){n===e&&(r(),a(t))}))}));function o(e){return e>=0&&e<10?"0".concat(e):e}!function(e,t){var n,r=document.querySelector(e),a=r.querySelector("#days"),i=r.querySelector("#hours"),s=r.querySelector("#minutes"),c=r.querySelector("#seconds");function l(){var e=function(e){var t=Date.parse(e)-Date.parse(new Date)+60*(new Date).getTimezoneOffset()*1e3;return{total:t,days:Math.floor(t/1e3/60/60/24),hours:Math.floor(t/1e3/60/60%24),minutes:Math.floor(t/1e3/60%60),seconds:Math.floor(t/1e3%60)}}(t);a.innerHTML=o(e.days),i.innerHTML=o(e.hours),s.innerHTML=o(e.minutes),c.innerHTML=o(e.seconds),e.total<=0&&(clearInterval(n),a.innerHTML="00",i.innerHTML="00",s.innerHTML="00",c.innerHTML="00")}l(),n=setInterval(l,1e3)}(".timer","2022-09-01");var i,s=document.querySelectorAll("[data-modal-trigger]"),c=document.querySelector(".modal"),l=c.querySelector(".modal__dialog");function d(){var e,t;e=document.documentElement.clientWidth,document.body.style.overflow="hidden",e!==(t=document.documentElement.clientWidth)&&(document.body.style.paddingRight=Math.abs(t-e)+"px"),c.classList.add("--show","--anim-fade"),c.classList.remove("--hide"),l.classList.add("--anim-slide-bottom"),clearTimeout(i)}function u(){c.classList.add("--hide"),c.classList.remove("--show","--anim-fade"),l.classList.remove("--anim-slide-bottom"),document.body.style.overflow&&(document.body.style.overflow=""),document.body.style.paddingRight&&(document.body.style.paddingRight="")}function m(e){var t=document.createElement("div"),n=document.createElement("div");l.classList.add("--hide"),t.classList.add("modal__dialog","--anim-slide-bottom"),n.classList.add("modal__content"),t.insertAdjacentElement("beforeend",n),n.insertAdjacentHTML("beforeend",'<div class="modal__close" data-modal-trigger="close">&times;</div>'),n.insertAdjacentHTML("beforeend",'<div class="modal__title">'.concat(e,"</div>")),c.append(t),d(),setTimeout((function(){t.remove(),l.classList.add("--show"),l.classList.remove("--hide"),u()}),4e3)}window.addEventListener("scroll",(function e(){window.scrollY+document.documentElement.clientHeight>=document.documentElement.scrollHeight-1&&(d(),window.removeEventListener("scroll",e))})),i=setTimeout(d,5e4),s.forEach((function(e){e.addEventListener("click",(function(t){var n=t.target;n&&"open"===e.dataset.modalTrigger&&d(),n&&"close"===e.dataset.modalTrigger&&u()}))})),c.addEventListener("click",(function(e){var t=e.target;t&&t===c&&u(),t&&"close"===t.dataset.modalTrigger&&u()})),document.addEventListener("keydown",(function(e){"Escape"===e.code&&c.classList.contains("--show")&&u()}));var f=function(){function e(t){var n=t.src,r=t.alt,a=t.title,o=t.descr,i=t.price,s=t.parentSelector,c=t.classes,l=void 0===c?[]:c;_classCallCheck(this,e),this.src=n,this.alt=r,this.title=a,this.descr=o,this.price=i,this.classes=l,this.parent=document.querySelector(s),this.transfer=65,this.changeToRUB()}return _createClass(e,[{key:"changeToRUB",value:function(){this.price*=this.transfer}},{key:"render",value:function(){var e,t=this.parent,n=this.classes,r=document.createElement("div"),a=document.createElement("div");n.includes("menu__item")||n.push("menu__item"),(e=r.classList).add.apply(e,_toConsumableArray(n)),r.insertAdjacentHTML("beforeend","<img src=".concat(this.src," alt=").concat(this.alt," />")),r.insertAdjacentHTML("beforeend",'<h3 class="menu__item-subtitle">'.concat(this.title,"</h3>")),r.insertAdjacentHTML("beforeend",'<p class="menu__item-descr">'.concat(this.descr,"</p>")),r.insertAdjacentHTML("beforeend",'<div class="menu__item-divider"></div>'),a.classList.add("menu__item-price"),a.insertAdjacentHTML("beforeend",'<div class="menu__item-cost">Цена:</div>'),a.insertAdjacentHTML("beforeend",'<div class="menu__item-total"><span>'.concat(this.price,"</span> руб/день</div>")),r.append(a),t.append(r)}}]),e}();new f({src:"./images/tabs/vegy.jpg",alt:"vegy",title:'Меню "Фитнес"',price:9,parentSelector:".menu .container",classes:["menu__item","menu__item_new"],descr:'Меню "Фитнес" - это новый подход к приготовлению блюд: больше свежих овощей и фруктов. Продукт активных и здоровых людей. Это абсолютно новый продукт с оптимальной ценой и высоким качеством!'}).render(),new f({src:"./images/tabs/elite.jpg",alt:"elite",title:"Меню “Премиум”",price:21,parentSelector:".menu .container",descr:"В меню “Премиум” мы используем не только красивый дизайн упаковки, но и качественное исполнение блюд. Красная рыба, морепродукты, фрукты - ресторанное меню без похода в ресторан!"}).render(),new f({src:"./images/tabs/post.jpg",alt:"post",title:'Меню "Постное"',price:14,parentSelector:".menu .container",classes:["menu__item"],descr:"Меню “Постное” - это тщательный подбор ингредиентов: полное отсутствие продуктов животного происхождения, молоко из миндаля, овса, кокоса или гречки, правильное количество белков за счет тофу и импортных вегетарианских стейков."}).render();var y=document.querySelectorAll("form"),h="images/icons/spinner.svg",p="Спасибо! Мы скорос в вами свяжемся",v="Что-то пошло не так...";y.forEach((function(e){return function(e){e.addEventListener("submit",(function(t){t.preventDefault();var n=document.createElement("img");n.src=h,n.style.display="block",n.style.margin="0 auto",e.insertAdjacentElement("afterend",n);var r,a={},o=_createForOfIteratorHelper(new FormData(e));try{for(o.s();!(r=o.n()).done;){var i=_slicedToArray(r.value,2),s=i[0],c=i[1];a[s]=c}}catch(e){o.e(e)}finally{o.f()}var l=new XMLHttpRequest;l.open("POST","https://jsonplaceholder.typicode.com/users"),l.setRequestHeader("Content-type","aplication/json"),l.send(JSON.stringify(a)),l.addEventListener("load",(function(){200===l.status||201===l.status?(console.log(l.response),m(p)):m(v),e.reset(),n.remove()}))}))}(e)}))}));