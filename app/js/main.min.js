"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(s)throw o}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}window.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".tabheader__item"),t=document.querySelectorAll(".tabcontent"),r=document.querySelector(".tabcontainer");function n(){t.length>0&&e.length>0?(t.forEach((function(e){e.classList.add("--hide"),e.classList.remove("--show","--anim-fade")})),e.forEach((function(e){e.classList.remove("tabheader__item_active")}))):console.log('function "hideTabsContent", error: "Tabs item or tabs content not found"')}function o(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t.length>0&&e.length>0?(t[r].classList.add("--show","--anim-fade"),t[r].classList.remove("--hide"),e[r].classList.add("tabheader__item_active")):console.log('function "showTabsContent", error: "Tabs item or tabs content not found"')}n(),o(),r&&r.addEventListener("click",(function(t){var r=t.target;r&&r.classList.contains("tabheader__item")&&e.forEach((function(e,t){r===e&&(n(),o(t))}))}));function a(e){return e>=0&&e<10?"0".concat(e):e}!function(e,t){var r,n=document.querySelector(e),o=n.querySelector("#days"),i=n.querySelector("#hours"),s=n.querySelector("#minutes"),c=n.querySelector("#seconds");function l(){var e=function(e){var t=Date.parse(e)-Date.parse(new Date)+60*(new Date).getTimezoneOffset()*1e3;return{total:t,days:Math.floor(t/1e3/60/60/24),hours:Math.floor(t/1e3/60/60%24),minutes:Math.floor(t/1e3/60%60),seconds:Math.floor(t/1e3%60)}}(t);o.innerHTML=a(e.days),i.innerHTML=a(e.hours),s.innerHTML=a(e.minutes),c.innerHTML=a(e.seconds),e.total<=0&&(clearInterval(r),o.innerHTML="00",i.innerHTML="00",s.innerHTML="00",c.innerHTML="00")}l(),r=setInterval(l,1e3)}(".timer","2022-09-01");var i,s=document.querySelectorAll("[data-modal-trigger]"),c=document.querySelector(".modal"),l=c.querySelector(".modal__dialog");function d(){var e,t;e=document.documentElement.clientWidth,document.body.style.overflow="hidden",e!==(t=document.documentElement.clientWidth)&&(document.body.style.paddingRight=Math.abs(t-e)+"px"),c.classList.add("--show","--anim-fade"),c.classList.remove("--hide"),l.classList.add("--anim-slide-bottom"),clearTimeout(i)}function u(){c.classList.add("--hide"),c.classList.remove("--show","--anim-fade"),l.classList.remove("--anim-slide-bottom"),document.body.style.overflow&&(document.body.style.overflow=""),document.body.style.paddingRight&&(document.body.style.paddingRight="")}s.forEach((function(e){e.addEventListener("click",(function(t){var r=t.target;r&&"open"===e.dataset.modalTrigger&&d(),r&&"close"===e.dataset.modalTrigger&&u()}))})),c.addEventListener("click",(function(e){var t=e.target;t&&t===c&&u()})),document.addEventListener("keydown",(function(e){"Escape"===e.code&&c.classList.contains("--show")&&u()})),i=setTimeout(d,1e4),window.addEventListener("scroll",(function e(){window.scrollY+document.documentElement.clientHeight>=document.documentElement.scrollHeight-1&&(d(),window.removeEventListener("scroll",e))}));var m=function(){function e(t){var r=t.src,n=t.alt,o=t.title,a=t.descr,i=t.price,s=t.parentSelector,c=t.classes,l=void 0===c?[]:c;_classCallCheck(this,e),this.src=r,this.alt=n,this.title=o,this.descr=a,this.price=i,this.classes=l,this.parent=document.querySelector(s),this.transfer=65,this.changeToRUB()}return _createClass(e,[{key:"changeToRUB",value:function(){this.price*=this.transfer}},{key:"render",value:function(){var e,t=this.parent,r=this.classes,n=document.createElement("div"),o=document.createElement("div");r.includes("menu__item")||r.push("menu__item"),(e=n.classList).add.apply(e,_toConsumableArray(r)),n.insertAdjacentHTML("beforeend","<img src=".concat(this.src," alt=").concat(this.alt," />")),n.insertAdjacentHTML("beforeend",'<h3 class="menu__item-subtitle">'.concat(this.title,"</h3>")),n.insertAdjacentHTML("beforeend",'<p class="menu__item-descr">'.concat(this.descr,"</p>")),n.insertAdjacentHTML("beforeend",'<div class="menu__item-divider"></div>'),o.classList.add("menu__item-price"),o.insertAdjacentHTML("beforeend",'<div class="menu__item-cost">Цена:</div>'),o.insertAdjacentHTML("beforeend",'<div class="menu__item-total"><span>'.concat(this.price,"</span> руб/день</div>")),n.append(o),t.append(n)}}]),e}();new m({src:"./images/tabs/vegy.jpg",alt:"vegy",title:'Меню "Фитнес"',price:9,parentSelector:".menu .container",classes:["menu__item","menu__item_new"],descr:'Меню "Фитнес" - это новый подход к приготовлению блюд: больше свежих овощей и фруктов. Продукт активных и здоровых людей. Это абсолютно новый продукт с оптимальной ценой и высоким качеством!'}).render(),new m({src:"./images/tabs/elite.jpg",alt:"elite",title:"Меню “Премиум”",price:21,parentSelector:".menu .container",descr:"В меню “Премиум” мы используем не только красивый дизайн упаковки, но и качественное исполнение блюд. Красная рыба, морепродукты, фрукты - ресторанное меню без похода в ресторан!"}).render(),new m({src:"./images/tabs/post.jpg",alt:"post",title:'Меню "Постное"',price:14,parentSelector:".menu .container",classes:["menu__item"],descr:"Меню “Постное” - это тщательный подбор ингредиентов: полное отсутствие продуктов животного происхождения, молоко из миндаля, овса, кокоса или гречки, правильное количество белков за счет тофу и импортных вегетарианских стейков."}).render();var f=document.querySelectorAll("form"),y="Загрузка",h="Спасибо! Мы скорос в вами свяжемся",p="Что-то пошло не так...";f.forEach((function(e){return function(e){e.addEventListener("submit",(function(t){t.preventDefault();var r=document.createElement("div");r.classList.add("status"),r.textContent=y,e.append(r);var n,o={},a=_createForOfIteratorHelper(new FormData(e));try{for(a.s();!(n=a.n()).done;){var i=_slicedToArray(n.value,2),s=i[0],c=i[1];o[s]=c}}catch(e){a.e(e)}finally{a.f()}var l=new XMLHttpRequest;l.open("POST","./server.php"),l.setRequestHeader("Content-type","aplication/json"),l.send(JSON.stringify(o)),l.addEventListener("load",(function(){200===l.status?(console.log(l.response),r.textContent=h,e.reset(),setTimeout((function(){return r.remove()}),2e3)):r.textContent=p}))}))}(e)}))}));
//# sourceMappingURL=main.min.js.map